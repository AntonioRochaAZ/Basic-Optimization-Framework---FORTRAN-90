

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta name="description" content="Documentation for Basic Optimization Framework - FORTRAN 90">
    <meta name="author" content="AntonioRochaAZ" >
    <link rel="icon" href="./favicon.png">

    <title> Basic Optimization Framework - FORTRAN 90 </title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link href="./css/pygments.css" rel="stylesheet">
    <link href="./css/font-awesome.min.css" rel="stylesheet">
    <link href="./css/local.css" rel="stylesheet">
      <link  href="./tipuesearch/tipuesearch.css" rel="stylesheet">

    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <script src="./js/svg-pan-zoom.min.js"></script>
  </head>

  <body>

    <!-- Fixed navbar -->
    <div class="container-fluid mb-sm-4 mb-xl-2">
      <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
        <div class="container">
          <a class="navbar-brand" href="./index.html">Basic Optimization Framework - FORTRAN 90 </a>
          <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbar"
                  aria-expanded="false" aria-controls="navbar" aria-label="Toggle navigation">
                  <span class="navbar-toggler-icon">
          </button>

          <div id="navbar" class="navbar-collapse collapse">
            <ul class="navbar-nav">
                  <li class="nav-item">
                    <a class="nav-link" href="./lists/files.html">Source Files</a>
                  </li>
                <li class="nav-item">
                  <a class="nav-link" href="./lists/modules.html">Modules</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="./lists/procedures.html">Procedures</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="./program/main.html">Program</a>
                </li>
            </ul>
              <div class="d-flex align-items-end flex-grow-1">
                <form action="./search.html" role="search" class="ms-auto">
                  <input type="text" class="form-control" aria-label="Search" placeholder="Search" name="q" id="tipue_search_input" autocomplete="off" required>
                </form>
              </div>
          </div><!--/.nav-collapse -->
        </div>
      </nav>
    </div>

    <div class="container">
  <!-- Main component for a primary marketing message or call to action -->
    <div class="p-5 mb-4 bg-light border rounded-3" id="jumbotron">
      
        <p> Find us on&hellip;</p>
      <p>
        <a class="btn btn-lg btn-primary" href="https://github.com/AntonioRochaAZ/Basic-Optimization-Framework---FORTRAN-90" role="button">GitHub</a>
        
        
        
        
      </p>
    </div>

      <div class="row" id='text'>
        <div class=col-md-8>
          <h1>Basic Optimization Framework - FORTRAN 90</h1>
          <p>Small project for learning modern FORTRAN 90 and studying optimization concepts. This project is a generic framework over which simple optimization methods can be built upon and run.</p>
<p><strong>NOTE: this project is finished.</strong></p>
<h1>Code structure:</h1>
<p>The way this code is structured:
- Optimization methods are implemented as subroutines, defined
  in the "contains" section of module <a href="module/optmod.html">optmod</a>. Their names are limited to 20
  characters (<code>method_names</code> variable).
- Objective function definition, as well as its derivatives
  (when necessary) must be defined in file <code>funcmod.f90</code>, in the <a href="module/funcmod.html">funcmod</a>
  module.
- The desired optimization method to be used, as well as its
  corresponding hyper parameters (see each method's definition)
  must be declared in the <code>main.txt</code> file. According to the
  following formatting:</p>
<div class="codehilite"><pre><span></span><code><span class="w">   </span><span class="o">&gt;</span><span class="w"> </span><span class="nv">Name</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">optimization</span><span class="w"> </span><span class="nv">method</span><span class="w"> </span><span class="ss">(</span><span class="nv">name</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">subroutine</span><span class="ss">)</span>
<span class="w">   </span><span class="o">&gt;</span><span class="w"> </span><span class="nv">Name</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">hyper</span><span class="w"> </span><span class="nv">parameter</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span>[<span class="nv">tab</span><span class="w"> </span><span class="nv">or</span><span class="w"> </span><span class="nv">space</span>]<span class="w"> </span><span class="nv">Hyper</span>
<span class="w">     </span><span class="nv">parameter</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="nv">value</span>
<span class="w">   </span><span class="o">&gt;</span><span class="w"> </span><span class="nv">Name</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="nv">hyper</span><span class="w"> </span><span class="nv">parameter</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span>[<span class="nv">tab</span><span class="w"> </span><span class="nv">or</span><span class="w"> </span><span class="nv">space</span>]<span class="w"> </span>
<span class="w">     </span><span class="nv">Hyper</span><span class="w"> </span><span class="nv">parameter</span><span class="w"> </span><span class="mi">2</span><span class="w"> </span><span class="nv">value</span>
<span class="w">   </span><span class="o">&gt;</span><span class="w"> </span>...
<span class="w">   </span><span class="o">&gt;</span><span class="w"> </span><span class="nv">Name</span><span class="w"> </span><span class="nv">of</span><span class="w"> </span><span class="nv">the</span><span class="w"> </span><span class="k">next</span><span class="w"> </span><span class="nv">optimization</span><span class="w"> </span><span class="nv">method</span><span class="w"> </span><span class="ss">(</span><span class="nv">and</span><span class="w"> </span><span class="nv">so</span><span class="w"> </span><span class="nv">on</span>...<span class="ss">)</span>
</code></pre></div>

<ul>
<li>Array hyper parameters must have a space or tab separating
  each element, and the whole array must be contained in one
  line. Example:</li>
</ul>
<div class="codehilite"><pre><span></span><code>   GD              [Gradient Descent method] 
   x   1   0   2   [Initial guess hyper parameter]
   LR  1D-3        [Learning Rate hyper parameter]
   eps 1D-10       [Relative error hyper parameter]
   freq 3          [How many this optim. should be repeated]
   GD              [Another optimization, also with the GD method]
   x   0   0   0   [Different initial guess]
   LR  1D-3                
   eps 1D-10               
   freq 2                  [Different number of repetitions]
</code></pre></div>

<h1>How the code works</h1>
<p>The mentioned procedures are all defined in the <a href="module/optmod.html">optmod</a> module.</p>
<ul>
<li>
<p>Subroutine <code>handle_main_file(...)</code> handles reading of this
  file, calling the optimization methods and passing the
  important hyperparameters to them. As of know, they are
  written to a text file called <code>output/hyperparams.txt</code> (deleted
  by the end of execution), which is
  then read by the corresponding optimization method - this could
  be eventually optimized as described in the <code>handle_main_file(...)</code>
  subroutine documentation.</p>
</li>
<li>
<p>Subroutine <code>handle_hyp_file(...)</code> handles the reading of
  the <code>output/hyperparams.txt</code> text file, attributing the correct
  values to the correct lines in an array. It is generic and
  called by each optimization method, which in turn interprets
  its results.</p>
</li>
<li>
<p>Subroutine <code>check_status(...)</code> is only defined because it
  is commonly used code, and serves to handle file reading
  errors.</p>
</li>
<li>
<p>Subroutine <code>check_hprparams(...)</code> checks if all required
  hyper parameters were informed by the user, and halts the
  program if not. It also warns the user if optional hyper
  parameters were not set, informing their default value. </p>
</li>
</ul>
<p><strong>NOTE</strong>: Default values for optional hyper parameters must be
    defined in the optimization procedure before calling the
    <code>handle_hyp_file(...)</code> subroutine, by initializing the
    associated elements of the hprdata array.</p>
<ul>
<li>
<p>It is best if optional hyper parameters are defined last (in
  <code>hprnames</code>), but this isn't a requirement. It is just an
  organization guideline.</p>
</li>
<li>
<p>The arrays passed to <code>handle_hyp_file(...)</code> are defined as
  <code>allocatable</code> in the optimization methods because they
  depend on the dimension of the objective function's input ---
  <code>dimx</code> --- this because one of the hyper parameters is
  always the initial guess. It could be given special
  treatment, but this approach generalizes the process and may
  be useful in the future, in case multidimensional hyper
  parameters are used in future methods.</p>
</li>
</ul>
<h1>How to add to it</h1>
<p>ADDING NEW METHODS: Other than updating <a href="module/optmod.html">optmod</a>
variables relating to the number of methods and their names
(<code>nb_methods</code> and <code>method_names</code>), one
must then update <code>handle_main_file(...)</code>
subroutine's <code>select case(optim_method)</code> with the name
of the new method. The method should
also support the existing report parameters (check
<code>rprt_params</code>) in the main program. </p>
<p>TODO: Add a reporting subroutine</p>
        </div>
          <div class="col-md-4">
            <div class="card card-body bg-light">
              <h2 class="card-title">Developer Info</h2>
              <h4 class="card-text">AntonioRochaAZ</h4>
              <p class="card-text"></p>
                <div class="text-center"><div class="btn-group" role="group">
                    <a class="btn btn-lg btn-primary" href="https://antoniorochaaz.github.io/"><i class="fa fa-globe fa-lg"></i></a>
                    <a class="btn btn-lg btn-primary" href="https://github.com/AntonioRochaAZ/"><i class="fa fa-github fa-lg"></i></a>
                    
                    
                    
                    
                    
                    
                </div></div>
            </div>
          </div>
      </div>
        <div class="row">
          <hr>
          <div class="col-xs-6 col-sm-4">
            <div>
              <h3>Source Files</h3>
              <ul><li><a href='sourcefile/funcmod.f90.html'>funcmod.f90</a></li><li><a href='sourcefile/main.f90.html'>main.f90</a></li><li><a href='sourcefile/optmod.f90.html'>optmod.f90</a></li></ul>
            </div>
            <div>
              <ul>
                <li><a href="./lists/files.html"><em>All source files&hellip;</em></a></li>
              </ul>
            </div>
          </div>
          <div class="col-xs-6 col-sm-4">
            <div>
              <h3>Modules</h3>
              <ul><li><a href='module/funcmod.html'>funcmod</a></li><li><a href='module/optmod.html'>optmod</a></li></ul>
            </div>
            <div>
              <ul>
                <li><a href="./lists/modules.html"><em>All modules&hellip;</em></a></li>
              </ul>
            </div>
          </div>
          <div class="col-xs-6 col-sm-4">
            <div>
              <h3>Procedures</h3>
              <ul><li><a href='proc/check_hprparams.html'>check_hprparams</a></li><li><a href='proc/check_status.html'>check_status</a></li><li><a href='proc/dfn_dx.html'>dfn_dx</a></li><li><a href='proc/fn.html'>fn</a></li><li><a href='proc/format_data.html'>format_data</a></li><li><a href='proc/gd.html'>GD</a></li><li><a href='proc/handle_hyp_file.html'>handle_hyp_file</a></li><li><a href='proc/handle_main_file.html'>handle_main_file</a></li></ul>
            </div>
            <div>
              <ul>
                <li><a href="./lists/procedures.html"><em>All procedures&hellip;</em></a></li>
              </ul>
            </div>
          </div>
        </div>
      <hr>
    </div> <!-- /container -->
    <footer>
      <div class="container">
        <div class="row justify-content-between">
          <div class="col">
            <p>
              Basic Optimization Framework - FORTRAN 90
 was developed by AntonioRochaAZ<br>              &copy; 2025 
</p>
          </div>
          <div class="col">
            <p class="text-end">
              Documentation generated by
              <a href="https://github.com/Fortran-FOSS-Programmers/ford">FORD</a>
            </p>
          </div>
        </div>
        <br>
      </div> <!-- /container -->
    </footer>

    <!-- Bootstrap core JavaScript -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>    

    <!-- MathJax JavaScript
             ================================================== -->
             <!-- Placed at the end of the document so the pages load faster -->
        <script type="text/x-mathjax-config">
          MathJax.Hub.Config({
          TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } },
          jax: ['input/TeX','input/MathML','output/HTML-CSS'],
          extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']
          });
        </script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

          <script src="./tipuesearch/tipuesearch_content.js"></script>
          <script src="./tipuesearch/tipuesearch_set.js"></script>
          <script src="./tipuesearch/tipuesearch.js"></script>

  </body>
</html>